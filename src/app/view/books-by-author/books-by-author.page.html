<ion-header>
  <ion-toolbar>
    <ion-back-button defaultHref="/home" slot="start" text=""></ion-back-button>
    <ion-title>Books by Author</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-searchbar [(ngModel)]="searchAuthor" (ionChange)="search()" placeholder="Author"></ion-searchbar>

  <ion-item>
    <ion-select [(ngModel)]="category" (ionChange)="search()" label="Category">
      <ion-select-option value="">All</ion-select-option>
      <ion-select-option value="Animals, Bugs & Pets">Animals, Bugs & Pets</ion-select-option>
      <ion-select-option value="Art, Creativity & Music">Art, Creativity & Music</ion-select-option>
      <ion-select-option value="General Literature">General Literature</ion-select-option>
      <ion-select-option value="Hobbies, Sports & Outdoors">Hobbies, Sports & Outdoors</ion-select-option>
      <ion-select-option value="Science Fiction & Fantasy">Science Fiction & Fantasy</ion-select-option>
      <ion-select-option value="Real Life"> Real Life</ion-select-option>
      <ion-select-option value="Science & Technology">Science & Technology</ion-select-option>
      <ion-select-option value="Mystery & Suspense">Mystery & Suspense</ion-select-option>
      <ion-select-option value="Reference">Reference</ion-select-option>
    </ion-select>
  </ion-item>



  <ion-list>
    <ion-item *ngFor="let item of (result | async)">
      <ion-card color="light">
        <img [src]="item.published_works[0].cover_art_url" *ngIf="item.published_works[0].cover_art_url != 'null'"
          allign="middle" />
        <ion-card-header>
          <ion-card-title>{{item.title}}</ion-card-title>
          <ion-card-subtitle>{{item.authors}}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <p class="text-muted" *ngFor="let category of item.categories">{{category}}</p>
          <p class="text-muted" *ngIf="item.page_count != null"> {{item.page_count}} pages</p>
          <p class="summary">Summary</p>
          <p class="content-summary">{{item.summary}} </p>
        </ion-card-content>
      </ion-card>
    </ion-item>
  </ion-list>
</ion-content>